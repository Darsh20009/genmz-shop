==> Downloading cache...
==> Cloning from https://github.com/Darsh20009/genmz-shop
==> Checking out commit 766adf4e9f029b4002bae7cff5182642044e6f0d in branch main
==> Downloaded 194MB in 2s. Extraction took 9s.
==> Using Node.js version 22.16.0 (default)
==> Docs on specifying a Node.js version: https://render.com/docs/node-version
==> Running build command 'npm install; npm run build'...
up to date, audited 491 packages in 1s
69 packages are looking for funding
  run `npm fund` for details
found 0 vulnerabilities
> rest-express@1.0.0 build
> tsx script/build.ts
building client...
vite v7.3.0 building client environment for production...
transforming...
âœ“ 2737 modules transformed.
rendering chunks...
computing gzip size...
../dist/public/index.html                                                          2.41 kB â”‚ gzip:   0.88 kB
(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
../dist/public/assets/Gen_M_Z_LOGO_1766644527859-B3_1eWd-.png                    170.82 kB
../dist/public/assets/Screenshot_2025-12-25_100613_1766646961781-CrtaqZo4.png    377.07 kB
../dist/public/assets/index-BFnj22n-.css                                         103.04 kB â”‚ gzip:  15.56 kB
../dist/public/assets/index--lODJF2T.js                                        1,100.95 kB â”‚ gzip: 322.70 kB
âœ“ built in 7.48s
building server...
  dist/index.js  4.2mb âš ï¸
âš¡ Done in 479ms
==> Uploading build...
==> Uploaded in 5.5s. Compression took 6.9s
==> Build successful ðŸŽ‰
==> Setting WEB_CONCURRENCY=1 by default, based on available CPUs in the instance
==> Deploying...
==> Running 'npm run start'
> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.js
Connected to MongoDB
Seeding admin user...
Admin user created with phone 0552469643 and password 20262030
file:///opt/render/project/src/dist/index.js:104349
  const distPath = path2.resolve(__dirname, "public");
                                 ^
ReferenceError: __dirname is not defined
    at serveStatic (file:///opt/render/project/src/dist/index.js:104349:34)
    at file:///opt/render/project/src/dist/index.js:104438:5
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
Node.js v22.16.0
==> Exited with status 1
==> Common ways to troubleshoot your deploy: https://render.com/docs/troubleshooting-deploys
==> Running 'npm run start'
> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.js
Connected to MongoDB
Seeding admin user...
Admin user created with phone 0552469643 and password 20262030
file:///opt/render/project/src/dist/index.js:104349
  const distPath = path2.resolve(__dirname, "public");
                                 ^
ReferenceError: __dirname is not defined
    at serveStatic (file:///opt/render/project/src/dist/index.js:104349:34)
    at file:///opt/render/project/src/dist/index.js:104438:5
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
Node.js v22.16.0